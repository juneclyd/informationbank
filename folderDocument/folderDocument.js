const data = {
    "folder": [
        {
            "id": 0,
            "title": "Вечное сияние чистого разума",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i.pinimg.com/736x/36/dd/ea/36ddea6c8f3177b8da9351f046814ac1--michel-gondry-eternal-sunshine.jpg",
                "public/logo192.png"
            ]
        },
        {
            "id": 1,
            "title": "Начало",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i01.fotocdn.net/s208/3f3c8e315241ff29/public_pin_l/2506527945.jpg"
            ]
        },
        {
            "id": 2,
            "title": "Шестое чувство",
            "source": "../pdfPage/PdfHtml/pdfDoc2.html",
            "photos": [
                "https://avatars.mds.yandex.net/get-kinopoisk-image/1900788/8216c5c2-7584-4e24-88b1-8c09fad0a446/1920x"
            ]
        },
        {
            "id": 3,
            "title": "Форрест Гамп",
            "source": "../pdfPage/PdfHtml/pdfDoc3.html",
            "photos": [
                "https://kolpino.ru/upload/iblock/4d8/4d89c46c03a571a56381d761fac297be.jpeg"
            ]
        },
        {
            "id": 4,
            "title": "Любовь и другие лекарства",
            "source": "../pdfPage/PdfHtml/pdfDoc4.html",
            "photos": [
                "https://www.avtora.com/userfiles/content/101340/702/filmite-na-balgarskiia-ekran-prez-mart.jpg"
            ]
        },
        {
            "id": 5,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc5.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 6,
            "title": "Игры разума",
            "source": "../pdfPage/PdfHtml/pdfDoc6.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/530.jpg"
            ]
        },
        {
            "id": 7,
            "title": "Престиж",
            "source": "../pdfPage/PdfHtml/pdfDoc7.html",
            "photos": [
                "https://avatars.dzeninfra.ru/get-zen_doc/1129675/pub_5c24eec74181d500ad417716_5c24ef1799ede900a9937fa4/scale_1200"
            ]
        },
        {
            "id": 8,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc8.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 9,
            "title": "Призрак",
            "source": "../pdfPage/PdfHtml/pdfDoc9.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/895519.jpg"
            ]
        },
        {
            "id": 10,
            "title": "Крик 4",
            "source": "../pdfPage/PdfHtml/pdfDoc10.html",
            "photos": [
                "https://stuki-druki.com/podborka/images/polanski-poster-pianist.webp"
            ]
        },
        {
            "id": 0,
            "title": "Вечное сияние чистого разума",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i.pinimg.com/736x/36/dd/ea/36ddea6c8f3177b8da9351f046814ac1--michel-gondry-eternal-sunshine.jpg",
                "public/logo192.png"
            ]
        },
        {
            "id": 1,
            "title": "Начало",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i01.fotocdn.net/s208/3f3c8e315241ff29/public_pin_l/2506527945.jpg"
            ]
        },
        {
            "id": 2,
            "title": "Шестое чувство",
            "source": "../pdfPage/PdfHtml/pdfDoc2.html",
            "photos": [
                "https://avatars.mds.yandex.net/get-kinopoisk-image/1900788/8216c5c2-7584-4e24-88b1-8c09fad0a446/1920x"
            ]
        },
        {
            "id": 3,
            "title": "Форрест Гамп",
            "source": "../pdfPage/PdfHtml/pdfDoc3.html",
            "photos": [
                "https://kolpino.ru/upload/iblock/4d8/4d89c46c03a571a56381d761fac297be.jpeg"
            ]
        },
        {
            "id": 4,
            "title": "Любовь и другие лекарства",
            "source": "../pdfPage/PdfHtml/pdfDoc4.html",
            "photos": [
                "https://www.avtora.com/userfiles/content/101340/702/filmite-na-balgarskiia-ekran-prez-mart.jpg"
            ]
        },
        {
            "id": 5,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc5.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 6,
            "title": "Игры разума",
            "source": "../pdfPage/PdfHtml/pdfDoc6.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/530.jpg"
            ]
        },
        {
            "id": 7,
            "title": "Престиж",
            "source": "../pdfPage/PdfHtml/pdfDoc7.html",
            "photos": [
                "https://avatars.dzeninfra.ru/get-zen_doc/1129675/pub_5c24eec74181d500ad417716_5c24ef1799ede900a9937fa4/scale_1200"
            ]
        },
        {
            "id": 8,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc8.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 9,
            "title": "Призрак",
            "source": "../pdfPage/PdfHtml/pdfDoc9.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/895519.jpg"
            ]
        },
        {
            "id": 10,
            "title": "Крик 4",
            "source": "../pdfPage/PdfHtml/pdfDoc10.html",
            "photos": [
                "https://stuki-druki.com/podborka/images/polanski-poster-pianist.webp"
            ]
        },
        {
            "id": 0,
            "title": "Вечное сияние чистого разума",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i.pinimg.com/736x/36/dd/ea/36ddea6c8f3177b8da9351f046814ac1--michel-gondry-eternal-sunshine.jpg",
                "public/logo192.png"
            ]
        },
        {
            "id": 1,
            "title": "Начало",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i01.fotocdn.net/s208/3f3c8e315241ff29/public_pin_l/2506527945.jpg"
            ]
        },
        {
            "id": 2,
            "title": "Шестое чувство",
            "source": "../pdfPage/PdfHtml/pdfDoc2.html",
            "photos": [
                "https://avatars.mds.yandex.net/get-kinopoisk-image/1900788/8216c5c2-7584-4e24-88b1-8c09fad0a446/1920x"
            ]
        },
        {
            "id": 3,
            "title": "Форрест Гамп",
            "source": "../pdfPage/PdfHtml/pdfDoc3.html",
            "photos": [
                "https://kolpino.ru/upload/iblock/4d8/4d89c46c03a571a56381d761fac297be.jpeg"
            ]
        },
        {
            "id": 4,
            "title": "Любовь и другие лекарства",
            "source": "../pdfPage/PdfHtml/pdfDoc4.html",
            "photos": [
                "https://www.avtora.com/userfiles/content/101340/702/filmite-na-balgarskiia-ekran-prez-mart.jpg"
            ]
        },
        {
            "id": 5,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc5.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 6,
            "title": "Игры разума",
            "source": "../pdfPage/PdfHtml/pdfDoc6.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/530.jpg"
            ]
        },
        {
            "id": 7,
            "title": "Престиж",
            "source": "../pdfPage/PdfHtml/pdfDoc7.html",
            "photos": [
                "https://avatars.dzeninfra.ru/get-zen_doc/1129675/pub_5c24eec74181d500ad417716_5c24ef1799ede900a9937fa4/scale_1200"
            ]
        },
        {
            "id": 8,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc8.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 9,
            "title": "Призрак",
            "source": "../pdfPage/PdfHtml/pdfDoc9.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/895519.jpg"
            ]
        },
        {
            "id": 10,
            "title": "Крик 4",
            "source": "../pdfPage/PdfHtml/pdfDoc10.html",
            "photos": [
                "https://stuki-druki.com/podborka/images/polanski-poster-pianist.webp"
            ]
        },
        {
            "id": 0,
            "title": "Вечное сияние чистого разума",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i.pinimg.com/736x/36/dd/ea/36ddea6c8f3177b8da9351f046814ac1--michel-gondry-eternal-sunshine.jpg",
                "public/logo192.png"
            ]
        },
        {
            "id": 1,
            "title": "Начало",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i01.fotocdn.net/s208/3f3c8e315241ff29/public_pin_l/2506527945.jpg"
            ]
        },
        {
            "id": 2,
            "title": "Шестое чувство",
            "source": "../pdfPage/PdfHtml/pdfDoc2.html",
            "photos": [
                "https://avatars.mds.yandex.net/get-kinopoisk-image/1900788/8216c5c2-7584-4e24-88b1-8c09fad0a446/1920x"
            ]
        },
        {
            "id": 3,
            "title": "Форрест Гамп",
            "source": "../pdfPage/PdfHtml/pdfDoc3.html",
            "photos": [
                "https://kolpino.ru/upload/iblock/4d8/4d89c46c03a571a56381d761fac297be.jpeg"
            ]
        },
        {
            "id": 4,
            "title": "Любовь и другие лекарства",
            "source": "../pdfPage/PdfHtml/pdfDoc4.html",
            "photos": [
                "https://www.avtora.com/userfiles/content/101340/702/filmite-na-balgarskiia-ekran-prez-mart.jpg"
            ]
        },
        {
            "id": 5,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc5.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 6,
            "title": "Игры разума",
            "source": "../pdfPage/PdfHtml/pdfDoc6.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/530.jpg"
            ]
        },
        {
            "id": 7,
            "title": "Престиж",
            "source": "../pdfPage/PdfHtml/pdfDoc7.html",
            "photos": [
                "https://avatars.dzeninfra.ru/get-zen_doc/1129675/pub_5c24eec74181d500ad417716_5c24ef1799ede900a9937fa4/scale_1200"
            ]
        },
        {
            "id": 8,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc8.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 9,
            "title": "Призрак",
            "source": "../pdfPage/PdfHtml/pdfDoc9.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/895519.jpg"
            ]
        },
        {
            "id": 10,
            "title": "Крик 4",
            "source": "../pdfPage/PdfHtml/pdfDoc10.html",
            "photos": [
                "https://stuki-druki.com/podborka/images/polanski-poster-pianist.webp"
            ]
        },
        {
            "id": 0,
            "title": "Вечное сияние чистого разума",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i.pinimg.com/736x/36/dd/ea/36ddea6c8f3177b8da9351f046814ac1--michel-gondry-eternal-sunshine.jpg",
                "public/logo192.png"
            ]
        },
        {
            "id": 1,
            "title": "Начало",
            "source": "../pdfPage/PdfHtml/pdfDoc.html",
            "photos": [
                "https://i01.fotocdn.net/s208/3f3c8e315241ff29/public_pin_l/2506527945.jpg"
            ]
        },
        {
            "id": 2,
            "title": "Шестое чувство",
            "source": "../pdfPage/PdfHtml/pdfDoc2.html",
            "photos": [
                "https://avatars.mds.yandex.net/get-kinopoisk-image/1900788/8216c5c2-7584-4e24-88b1-8c09fad0a446/1920x"
            ]
        },
        {
            "id": 3,
            "title": "Форрест Гамп",
            "source": "../pdfPage/PdfHtml/pdfDoc3.html",
            "photos": [
                "https://kolpino.ru/upload/iblock/4d8/4d89c46c03a571a56381d761fac297be.jpeg"
            ]
        },
        {
            "id": 4,
            "title": "Любовь и другие лекарства",
            "source": "../pdfPage/PdfHtml/pdfDoc4.html",
            "photos": [
                "https://www.avtora.com/userfiles/content/101340/702/filmite-na-balgarskiia-ekran-prez-mart.jpg"
            ]
        },
        {
            "id": 5,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc5.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 6,
            "title": "Игры разума",
            "source": "../pdfPage/PdfHtml/pdfDoc6.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/530.jpg"
            ]
        },
        {
            "id": 7,
            "title": "Престиж",
            "source": "../pdfPage/PdfHtml/pdfDoc7.html",
            "photos": [
                "https://avatars.dzeninfra.ru/get-zen_doc/1129675/pub_5c24eec74181d500ad417716_5c24ef1799ede900a9937fa4/scale_1200"
            ]
        },
        {
            "id": 8,
            "title": "Матрица",
            "source": "../pdfPage/PdfHtml/pdfDoc8.html",
            "photos": [
                "https://www.kinonews.ru/insimgs/2019/poster/poster89637_1.jpg"
            ]
        },
        {
            "id": 9,
            "title": "Призрак",
            "source": "../pdfPage/PdfHtml/pdfDoc9.html",
            "photos": [
                "https://www.timeout.ru/wp-content/uploads/kpposters/895519.jpg"
            ]
        },
        {
            "id": 10,
            "title": "Крик 4",
            "source": "../pdfPage/PdfHtml/pdfDoc10.html",
            "photos": [
                "https://stuki-druki.com/podborka/images/polanski-poster-pianist.webp"
            ]
        }
    ]
}

const folderBlock = document.querySelector('.documentContainer');
const folderTitle = document.createElement('div');
const container = document.querySelector('.container');
const inputSearch = document.querySelector('.search');
const cancelSearch = document.querySelector('.cancelSearch');
const keyboardBtns = document.querySelectorAll('.btn');
const deleteBtn = document.querySelector('.delete');

function getFile(word, stations) {
    return stations.filter(s => {
      
      const regex = new RegExp(word, 'gi');
      return s.title.match(regex);
    })
}

inputSearch.addEventListener('change', (event) => {
    console.log(getFile(inputSearch.value, data.folder));
})
keyboardBtns.forEach(button => {
    
    button.addEventListener('click', (event) => {
        const init = document.querySelector('.init');
        let child = init.lastElementChild;
        while(child) {
            init.removeChild(child);
            child = init.lastElementChild;
        }
        init.insertAdjacentHTML('beforeend', `<div class='documentContainer' style="width: 100%;"></div>`)
        const folderBlockCopy = document.querySelector('.documentContainer');
        const dataFilter = getFile(inputSearch.value, data.folder);
        dataFilter.forEach(el => {
            folderBlockCopy.insertAdjacentHTML('beforeend', `
                <a href="${el.source}" class='documentFon'>
                    <img src="${el.photos[0]}" alt="${el.title}">
                    <span>${el.title}</span>
                </a>
            `);
        });
        new SimpleBar(folderBlockCopy);
    });
});
deleteBtn.addEventListener('click', event => {
    if(inputSearch !== "") {
        const init = document.querySelector('.init');
        let child = init.lastElementChild;
        while(child) {
            init.removeChild(child);
            child = init.lastElementChild;
        }
        init.insertAdjacentHTML('beforeend', `<div class='documentContainer' style="width: 100%;"></div>`)
        const folderBlockCopy = document.querySelector('.documentContainer');
        const dataFilter = getFile(inputSearch.value, data.folder);
        dataFilter.forEach(el => {
            folderBlockCopy.insertAdjacentHTML('beforeend', `
                <a href="${el.source}" class='documentFon'>
                    <span>${el.title}</span>
                </a>
            `);
        });
        new SimpleBar(folderBlockCopy);
    } else {
        const folderBlockCopy = document.querySelector('.documentContainer');
        const dataFilter = data.folder;
        dataFilter.forEach(el => {
            folderBlockCopy.insertAdjacentHTML('beforeend', `
                <a href="${el.source}" class='documentFon'>
                    <span>${el.title}</span>
                </a>
            `);
        });
        new SimpleBar(folderBlockCopy);
    }
    console.log(inputSearch.value)
})


data.folder.forEach(el => {
    folderBlock.insertAdjacentHTML('beforeend', `
        <a href="${el.source}" class='documentFon'>
            <span>${el.title}</span>
        </a>
    `);
});
new SimpleBar(folderBlock);

document.body.oncontextmenu = function (e) {
        return false;
};
    

document.querySelector('.buttonsBack').addEventListener('click', event => {
    // event.preventDefault();
})
document.querySelector('.search').addEventListener('click', event => {
    event.preventDefault();
    container.style.display = 'block';
})



